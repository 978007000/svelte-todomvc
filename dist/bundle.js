!function(){"use strict";function e(e){return function(t,n){function d(t){t.which===e&&n.call(this,t)}return t.addEventListener("keydown",d,!1),{teardown:function(){t.removeEventListener("keydown",d,!1)}}}}function t(e,t){var d=document.createElement("header");d.className="header";var a=document.createElement("h1");a.appendChild(document.createTextNode("todos")),d.appendChild(a),d.appendChild(document.createTextNode("\n\t"));var o=document.createElement("input");e.refs.newTodo=o,o.className="new-todo";var r=u.events.enter(o,function(t){e.newTodo(this.value)});o.placeholder="What needs to be done?",o.autofocus=!0,d.appendChild(o),t.appendChild(d),t.appendChild(document.createTextNode("\n\n"));var i=document.createComment("#if items.length > 0");t.appendChild(i);var c=null;return{update:function(d){var a=d.items.length>0;a&&!c?c=n(e,t,i):!a&&c&&(c.teardown(),c=null),c&&c.update(d)},teardown:function(){d.parentNode.removeChild(d),a.parentNode.removeChild(a),e.refs.newTodo=null,r.teardown(),o.parentNode.removeChild(o),c&&c.teardown(),i.parentNode.removeChild(i)}}}function n(e,t,n){function o(t){e.toggleAll(this.checked)}var r=document.createElement("section");r.className="main";var i=document.createElement("input");i.className="toggle-all",i.type="checkbox",i.addEventListener("change",o,!1),r.appendChild(i),r.appendChild(document.createTextNode("\n\t\t"));var c=document.createElement("label");c.htmlFor="toggle-all",c.appendChild(document.createTextNode("Mark all as complete")),r.appendChild(c),r.appendChild(document.createTextNode("\n\n\t\t"));var l=document.createElement("ul");l.className="todo-list";var m=document.createComment("#each items");l.appendChild(m);var u=[],p=document.createDocumentFragment();r.appendChild(l),r.appendChild(document.createTextNode("\n\n\t\t"));var s=document.createElement("footer");s.className="footer";var v=document.createElement("span");v.className="todo-count";var h=document.createElement("strong"),f=document.createTextNode(""),C="";h.appendChild(f),v.appendChild(h),v.appendChild(document.createTextNode(" "));var N=document.createTextNode(""),g="";v.appendChild(N),v.appendChild(document.createTextNode(" left")),s.appendChild(v),s.appendChild(document.createTextNode("\n\n\t\t\t"));var _=document.createElement("ul");_.className="filters";var w=document.createElement("li"),E=document.createElement("a");E.href="#/",E.appendChild(document.createTextNode("All")),w.appendChild(E),_.appendChild(w),_.appendChild(document.createTextNode("\n\t\t\t\t"));var x=document.createElement("li"),T=document.createElement("a");T.href="#/active",T.appendChild(document.createTextNode("Active")),x.appendChild(T),_.appendChild(x),_.appendChild(document.createTextNode("\n\t\t\t\t"));var b=document.createElement("li"),k=document.createElement("a");k.href="#/completed",k.appendChild(document.createTextNode("Completed")),b.appendChild(k),_.appendChild(b),s.appendChild(_),s.appendChild(document.createTextNode("\n\n\t\t\t"));var L=document.createComment("#if numCompleted");s.appendChild(L);var y=null;return r.appendChild(s),n.parentNode.insertBefore(r,n),{update:function(t){i.checked=t.numCompleted===t.items.length;for(var n=t.items,o=0;o<n.length;o+=1){u[o]||(u[o]=a(e,p));u[o];u[o].update(t,n,n[o],o)}for(var o=n.length;o<u.length;o+=1)u[o].teardown();m.parentNode.insertBefore(p,m),u.length=n.length,t.numActive!==C&&(C=t.numActive,f.data=C);var r=1===t.numActive?"item":"items";r!==g&&(g=r,N.data=g),E.className="all"===t.currentFilter?"selected":"",T.className="active"===t.currentFilter?"selected":"",k.className="completed"===t.currentFilter?"selected":"",t.numCompleted&&!y?y=d(e,s,L):!t.numCompleted&&y&&(y.teardown(),y=null),y&&y.update(t)},teardown:function(){r.parentNode.removeChild(r),i.removeEventListener("change",o,!1),i.parentNode.removeChild(i),c.parentNode.removeChild(c),l.parentNode.removeChild(l);for(var e=0;e<u.length;e+=1)u[e].teardown();m.parentNode.removeChild(m),s.parentNode.removeChild(s),v.parentNode.removeChild(v),h.parentNode.removeChild(h),_.parentNode.removeChild(_),w.parentNode.removeChild(w),E.parentNode.removeChild(E),x.parentNode.removeChild(x),T.parentNode.removeChild(T),b.parentNode.removeChild(b),k.parentNode.removeChild(k),y&&y.teardown(),L.parentNode.removeChild(L)}}}function d(e,t,n){function d(t){e.clearCompleted()}var a=document.createElement("button");return a.className="clear-completed",a.addEventListener("click",d,!1),a.appendChild(document.createTextNode("Clear completed")),n.parentNode.insertBefore(a,n),{update:function(e){},teardown:function(){a.removeEventListener("click",d,!1),a.parentNode.removeChild(a)}}}function a(e,t){var n=document.createComment("#if filter(item, currentFilter)");t.appendChild(n);var d=null;return{update:function(a,r,i,c){var i=r[c],l=u.helpers.filter(i,a.currentFilter);l&&!d?d=o(e,t,n):!l&&d&&(d.teardown(),d=null),d&&d.update(a,r,i,c)},teardown:function(){d&&d.teardown(),n.parentNode.removeChild(n)}}}function o(e,t,n){function d(){m=!0;var t=this.__svelte.eachBlock_0_value,n=this.__svelte.index;t[n].completed=this.checked,e.set({items:e.get("items")}),m=!1}function a(t){var n=this.__svelte.eachBlock_0_value,d=this.__svelte.index;n[d];e.edit(d)}function o(t){var n=this.__svelte.eachBlock_0_value,d=this.__svelte.index;n[d];e.remove(d)}var i=document.createElement("li"),c=document.createElement("div");c.className="view";var l=document.createElement("input");l.className="toggle",l.type="checkbox";var m=!1;l.addEventListener("change",d,!1),l.__svelte={},c.appendChild(l),c.appendChild(document.createTextNode("\n\t\t\t\t\t\t\t"));var u=document.createElement("label");u.addEventListener("dblclick",a,!1),u.__svelte={};var p=document.createTextNode(""),s="";u.appendChild(p),c.appendChild(u),c.appendChild(document.createTextNode("\n\t\t\t\t\t\t\t"));var v=document.createElement("button");v.addEventListener("click",o,!1),v.className="destroy",v.__svelte={},c.appendChild(v),i.appendChild(c),i.appendChild(document.createTextNode("\n\n\t\t\t\t\t\t"));var h=document.createComment("#if editing === index");i.appendChild(h);var f=null;return n.parentNode.insertBefore(i,n),{update:function(t,n,d,a){i.className=""+(d.completed?"completed":"")+" "+(t.editing===a?"editing":""),m||(l.checked=d.completed),l.__svelte.eachBlock_0_value=n,l.__svelte.index=a,u.__svelte.eachBlock_0_value=n,u.__svelte.index=a,d.description!==s&&(s=d.description,p.data=s),v.__svelte.eachBlock_0_value=n,v.__svelte.index=a;var o=t.editing===a;o&&!f?f=r(e,i,h):!o&&f&&(f.teardown(),f=null),f&&f.update(t,n,d,a)},teardown:function(){i.parentNode.removeChild(i),c.parentNode.removeChild(c),l.removeEventListener("change",d,!1),l.parentNode.removeChild(l),u.removeEventListener("dblclick",a,!1),u.parentNode.removeChild(u),v.removeEventListener("click",o,!1),v.parentNode.removeChild(v),f&&f.teardown(),h.parentNode.removeChild(h)}}}function r(e,t,n){function d(t){e.submit(this.value)}var a=document.createElement("input");a.id="edit",a.className="edit";var o=u.events.enter(a,function(t){e.blur(this)});a.addEventListener("blur",d,!1);var r=u.events.escape(a,function(t){e.cancel()});return a.autofocus=!0,n.parentNode.insertBefore(a,n),a.focus(),{update:function(e,t,n,d){a.value=n.description},teardown:function(){o.teardown(),a.removeEventListener("blur",d,!1),r.teardown(),a.parentNode.removeChild(a)}}}function i(e){function n(e,t,n){for(var a in e)if(a in t){var o=t[a],r=n[a];if(o!==r||"object"==typeof o){var i=e[a];if(i)for(var c=0;c<i.length;c+=1)i[c].call(d,o,r)}}}var d=Object.create(u.methods);d.refs={};var a={},o={immediate:Object.create(null),deferred:Object.create(null)};d.get=function(e){return a[e]},d.set=function(e){var t=a;a=Object.assign({},t,e),("items"in e&&"object"==typeof a.items||a.items!==t.items)&&(a.numActive=e.numActive=u.computed.numActive(a.items)),("items"in e&&"object"==typeof a.items||a.items!==t.items)&&(a.numCompleted=e.numCompleted=u.computed.numCompleted(a.items)),n(o.immediate,e,t),r.update(a),n(o.deferred,e,t)},d.observe=function(e,t,n){void 0===n&&(n={});var d=n.defer?o.deferred:o.immediate;return(d[e]||(d[e]=[])).push(t),n.init!==!1&&t(a[e]),{cancel:function(){var n=d[e].indexOf(t);~n&&d[e].splice(n,1)}}},d.teardown=function(){r.teardown(),r=null,a={}};var r=t(d,e.target);return d.set(Object.assign(u.data(),e.data)),u.onrender.call(d),d}var c,l=13,m=27;try{c=JSON.parse(localStorage.getItem("todos-svelte"))||[]}catch(e){c=[]}var u={data:function(){return{currentFilter:"all",items:c}},computed:{numActive:function(e){return e.filter(function(e){return!e.completed}).length},numCompleted:function(e){return e.filter(function(e){return e.completed}).length}},helpers:{filter:function(e,t){return"all"===t||("completed"===t?e.completed:"active"===t?!e.completed:void 0)}},onrender:function(){var e=this,t=function(){var t="all";"#/active"===window.location.hash?t="active":"#/completed"===window.location.hash&&(t="completed"),e.set({currentFilter:t})};window.addEventListener("hashchange",t),t(),this.observe("items",function(e){try{localStorage.setItem("todos-svelte",JSON.stringify(e))}catch(e){}})},methods:{blur:function(e){e.blur()},cancel:function(){this.set({editing:null})},clearCompleted:function(){var e=this.get("items").filter(function(e){return!e.completed});this.set({items:e})},edit:function(e){this.set({editing:e})},newTodo:function(e){var t=this.get("items");t.push({description:e,completed:!1}),this.set({items:t}),this.refs.newTodo.value=""},remove:function(e){var t=this.get("items");t.splice(e,1),this.set({items:t})},submit:function(e){var t=this.get("items"),n=this.get("editing");t[n].description=e,this.set({items:t,editing:null})},toggleAll:function(e){var t=this.get("items");t.forEach(function(t){t.completed=e}),this.set({items:t})}},events:{enter:e(l),escape:e(m)}};window.todomvc=i({target:document.querySelector(".todoapp")})}();
//# sourceMappingURL=bundle.js.map
