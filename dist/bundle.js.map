{"version":3,"file":null,"sources":["../src/TodoMVC.html","../src/app.js"],"sourcesContent":["<header class=\"header\">\n\t<h1>todos</h1>\n\t<input ref:newTodo class=\"new-todo\" on:enter='newTodo(this.value)' placeholder=\"What needs to be done?\" autofocus>\n</header>\n\n{{#if items.length > 0}}\n\t<section class=\"main\">\n\t\t<input class=\"toggle-all\" type=\"checkbox\" on:change='toggleAll(this.checked)' checked='{{numCompleted === items.length}}'>\n\t\t<label for=\"toggle-all\">Mark all as complete</label>\n\n\t\t<ul class=\"todo-list\">\n\t\t\t{{#each items as item, index}}\n\t\t\t\t{{#if filter(item, currentFilter)}}\n\t\t\t\t\t<li class=\"{{ item.completed ? 'completed' : '' }} {{ editing === index ? 'editing' : '' }}\">\n\t\t\t\t\t\t<div class=\"view\">\n\t\t\t\t\t\t\t<input class=\"toggle\" type=\"checkbox\" bind:checked=\"item.completed\">\n\t\t\t\t\t\t\t<label on:dblclick=\"edit(index)\">{{item.description}}</label>\n\t\t\t\t\t\t\t<button on:click=\"remove(index)\" class=\"destroy\"></button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{{#if editing === index}}\n\t\t\t\t\t\t\t<input value='{{item.description}}' id=\"edit\" class=\"edit\" on:enter='blur(this)' on:blur=\"submit(this.value)\" on:escape=\"cancel()\" autofocus>\n\t\t\t\t\t\t{{/if}}\n\t\t\t\t\t</li>\n\t\t\t\t{{/if}}\n\t\t\t{{/each}}\n\t\t</ul>\n\n\t\t<footer class=\"footer\">\n\t\t\t<span class=\"todo-count\">\n\t\t\t\t<strong>{{numActive}}</strong> {{numActive === 1 ? 'item' : 'items'}} left\n\t\t\t</span>\n\n\t\t\t<ul class=\"filters\">\n\t\t\t\t<li><a class=\"{{ currentFilter === 'all' ? 'selected' : '' }}\" href=\"#/\">All</a></li>\n\t\t\t\t<li><a class=\"{{ currentFilter === 'active' ? 'selected' : '' }}\" href=\"#/active\">Active</a></li>\n\t\t\t\t<li><a class=\"{{ currentFilter === 'completed' ? 'selected' : '' }}\" href=\"#/completed\">Completed</a></li>\n\t\t\t</ul>\n\n\t\t\t{{#if numCompleted}}\n\t\t\t\t<button class=\"clear-completed\" on:click=\"clearCompleted()\">\n\t\t\t\t\tClear completed\n\t\t\t\t</button>\n\t\t\t{{/if}}\n\t\t</footer>\n\t</section>\n{{/if}}\n\n<script>\n\tconst ENTER_KEY = 13;\n\tconst ESCAPE_KEY = 27;\n\n\tfunction keyEvent ( code ) {\n\t\treturn function ( node, callback ) {\n\t\t\tfunction keydownHandler ( event ) {\n\t\t\t\tif ( event.which === code ) callback.call( this, event );\n\t\t\t}\n\n\t\t\tnode.addEventListener( 'keydown', keydownHandler, false );\n\n\t\t\treturn {\n\t\t\t\tteardown () {\n\t\t\t\t\tnode.removeEventListener( 'keydown', keydownHandler, false );\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t}\n\n\tlet items;\n\ttry {\n\t\titems = JSON.parse( localStorage.getItem( 'todos-svelte' ) ) || [];\n\t} catch ( err ) {\n\t\titems = [];\n\t}\n\n\texport default {\n\t\tdata: () => ({\n\t\t\tcurrentFilter: 'all',\n\t\t\titems\n\t\t}),\n\n\t\tcomputed: {\n\t\t\tnumActive ( items ) {\n\t\t\t\treturn items.filter( item => !item.completed ).length;\n\t\t\t},\n\n\t\t\tnumCompleted ( items ) {\n\t\t\t\treturn items.filter( item => item.completed ).length;\n\t\t\t}\n\t\t},\n\n\t\thelpers: {\n\t\t\tfilter ( item, currentFilter ) {\n\t\t\t\tif ( currentFilter === 'all' ) return true;\n\t\t\t\tif ( currentFilter === 'completed' ) return item.completed;\n\t\t\t\tif ( currentFilter === 'active' ) return !item.completed;\n\t\t\t}\n\t\t},\n\n\t\tonrender () {\n\t\t\tconst updateView = () => {\n\t\t\t\tlet currentFilter = 'all';\n\t\t\t\tif ( window.location.hash === '#/active' ) {\n\t\t\t\t\tcurrentFilter = 'active';\n\t\t\t\t} else if ( window.location.hash === '#/completed' ) {\n\t\t\t\t\tcurrentFilter = 'completed';\n\t\t\t\t}\n\n\t\t\t\tthis.set({ currentFilter });\n\t\t\t};\n\n\t\t\twindow.addEventListener( 'hashchange', updateView );\n\t\t\tupdateView();\n\n\t\t\tthis.observe( 'items', items => {\n\t\t\t\ttry {\n\t\t\t\t\tlocalStorage.setItem( 'todos-svelte', JSON.stringify( items ) );\n\t\t\t\t} catch ( err ) {\n\t\t\t\t\t// noop\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tmethods: {\n\t\t\tblur ( node ) {\n\t\t\t\tnode.blur();\n\t\t\t},\n\n\t\t\tcancel () {\n\t\t\t\tthis.set({ editing: null });\n\t\t\t},\n\n\t\t\tclearCompleted () {\n\t\t\t\tconst items = this.get( 'items' ).filter( item => !item.completed );\n\t\t\t\tthis.set({ items });\n\t\t\t},\n\n\t\t\tedit ( index ) {\n\t\t\t\tthis.set({ editing: index });\n\t\t\t},\n\n\t\t\tnewTodo ( description ) {\n\t\t\t\tconst items = this.get( 'items' );\n\t\t\t\titems.push({\n\t\t\t\t\tdescription,\n\t\t\t\t\tcompleted: false\n\t\t\t\t});\n\n\t\t\t\tthis.set({ items });\n\t\t\t\tthis.refs.newTodo.value = '';\n\t\t\t},\n\n\t\t\tremove ( index ) {\n\t\t\t\tconst items = this.get( 'items' );\n\t\t\t\titems.splice( index, 1 );\n\n\t\t\t\tthis.set({ items });\n\t\t\t},\n\n\t\t\tsubmit ( description ) {\n\t\t\t\tconst items = this.get( 'items' );\n\t\t\t\tconst index = this.get( 'editing' );\n\n\t\t\t\titems[ index ].description = description;\n\n\t\t\t\tthis.set({ items, editing: null });\n\t\t\t},\n\n\t\t\ttoggleAll ( checked ) {\n\t\t\t\tconst items = this.get( 'items' );\n\n\t\t\t\titems.forEach( item => {\n\t\t\t\t\titem.completed = checked;\n\t\t\t\t});\n\n\t\t\t\tthis.set({ items });\n\t\t\t}\n\t\t},\n\n\t\tevents: {\n\t\t\tenter: keyEvent( ENTER_KEY ),\n\t\t\tescape: keyEvent( ESCAPE_KEY )\n\t\t}\n\t};\n</script>\n","import createComponent from './TodoMVC.html';\n\nwindow.todomvc = createComponent({\n\ttarget: document.querySelector( '.todoapp' )\n});\n"],"names":[],"mappings":"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"}